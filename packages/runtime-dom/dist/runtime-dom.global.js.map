{
  "version": 3,
  "sources": ["../src/index.ts", "../../runtime-core/src/renderer.ts", "../../shared/src/index.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/h.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/events.ts", "../src/modules/style.ts", "../src/pathProp.ts"],
  "sourcesContent": ["import { createRenderer } from '@vue/runtime-core'\nimport { assign } from '@vue/shared'\nimport { nodeOps } from './nodeOps'\nimport { patchProp } from './pathProp'\n\nexport { createRenderer, h } from '@vue/runtime-core'\n\n// domApi \u5C5E\u6027Api\nconst renderOptions = assign(nodeOps, { patchProp }) \n\nexport function render(vnode, container) {\n  createRenderer(renderOptions).render(vnode, container)\n}\n", "export function createRenderer(renderOptions) {\n  const render = (vnode, container) => {}\n  return {\n    render\n  }\n}\n", "export const isObject = value => {\n  return typeof value === 'object' && value !== null\n}\nexport const inNumber = value => {\n  return typeof value === 'number'\n}\nexport const isFunction = value => {\n  return typeof value === 'function'\n}\nexport const isString = value => {\n  return typeof value === 'string'\n}\n\nexport const isArray = Array.isArray\n\nexport const assign = Object.assign\n\n// vue3 \u63D0\u4F9B\u7684\u5F62\u72B6\u6807\u8BC6\nexport const enum ShapeFlags {\n  ELEMENT = 1,\n  FUNCTIONAL_COMPONENT = 1 << 1,\n  STATRFUL_COMPONENT = 1 << 2,\n  TEXT_CHILDREBN = 1 << 3,\n  ARRAY_CHILDREN = 1 << 4,\n  SLOTS_CHILDREN = 1 << 5,\n  TELEPORT = 1 << 6,\n  SUSPENSE = 1 << 7,\n  COMPONENT_SHOULD_KEPP_ALICE = 1 << 8,\n  COMPONENT_KEPT_ALIVE = 1 << 9,\n  COMPONENT = ShapeFlags.STATRFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT\n}\n", "import { isArray } from './../../shared/src/index'\nimport { isString, ShapeFlags } from '@vue/shared'\n\nexport function isVnode(value) {\n  return Boolean(value?._v_isVnode)\n}\n\n// \u865A\u62DF\u8282\u70B9\uFF1A \u7EC4\u4EF6\uFF0C\u5143\u7D20\uFF0C\u6587\u672C\nexport function createVnode(type, prop, children = null) {\n  let shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0\n  // \u865A\u62DFdom\u5BF9\u8C61\n  const vnode = {\n    el: null, // \u865A\u62DF\u8282\u70B9\u4E0A\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\n    type,\n    prop,\n    children,\n    key: prop?.['key'],\n    shapeFlag,\n    _v_isVnode: true\n  }\n  if (children) {\n    let type = 0\n    if (isArray(type)) {\n      type = ShapeFlags.ARRAY_CHILDREN\n    } else {\n      children = String(children)\n      type = ShapeFlags.TEXT_CHILDREBN\n    }\n    vnode.shapeFlag |= type\n  }\n  return vnode\n}\n", "// h\u7684\u7528\u6CD5\n// h('div')\n// h('div', { style: { color: 'red } })\n// h('div', { style: { color: 'red } }, hello)\n// h('div', hello)\n// h('div', null, hello, 'word')\n// h('div', null, h('span))\n// h('div', null, [h('span)])\n\nimport { isArray, isObject } from '@vue/shared'\nimport { createVnode, isVnode } from './vnode'\n\nexport function h(type, propsOrChildren, children) {\n  let r = arguments.length\n\n  if (r === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVnode(propsOrChildren)) {\n        // \u865A\u62DF\u8282\u70B9\u5305\u88C5\u6210\u6570\u7EC4\n        return createVnode(type, null, [propsOrChildren])\n      }\n      // \u5C5E\u6027\n      return createVnode(type, propsOrChildren)\n    } else {\n      // \u6570\u7EC4 \u6216 \u6587\u672C\n      return createVnode(type, null, propsOrChildren)\n    }\n  } else {\n    if (r === 3 && isVnode(children)) {\n      children = [children]\n    } else if (r > 3) {\n      children = Array.from(arguments).slice(2)\n    }\n    return createVnode(type, propsOrChildren, children)\n  }\n}\n", "export const nodeOps = {\n  // \u589E\u52A0\u8282\u70B9\n  inset(child, parent, anchor = null) {\n    parent.insertBefore(child, anchor)\n  },\n  // \u5220\u9664\u8282\u70B9\n  remove(child) {\n    const parentNode = child.parentNode\n    if (parentNode) {\n      parentNode.removeChild(child)\n    }\n  },\n  setElementText(el, test) {\n    el.textContent = test\n  },\n  setText(node, test) {\n    node.nodeValue = test\n  },\n  querySelector(seletor) {\n    return document.querySelector(seletor)\n  },\n  patentNode(node) {\n    return node.parentNode\n  },\n  nexSibling(node) {\n    return node.nextSibling\n  },\n  createElement(tagName) {\n    return document.createElement(tagName)\n  },\n  createText(text) {\n    return document.createTextNode(text)\n  }\n}\n", "export function pathcAttr(el, key, nextValue) {\n  if (nextValue) {\n    el.setAttribute(key, nextValue)\n  } else {\n    el.removeAttribute(key)\n  }\n}\n", "export function pathcClass(el: Element, nextValue) {\n  if (nextValue === 'null') {\n    el.removeAttribute('class')\n  } else {\n    el.className  = nextValue\n  }\n}\n", "function createInvoker(callback) {\n  const invoker = e => invoker.value(e)\n  invoker.value = callback\n  return invoker\n}\n\nexport function pathcEvents(el, eventName, nextValue) {\n  let invokers = el._vei || (el._vei = {})\n\n  let exits = invokers[eventName]\n\n  if (exits && nextValue) {\n    exits.value = nextValue\n  } else {\n    let event = eventName.slice(2).toLocaleLowerCase()\n    if (nextValue) {\n      const invoker = (invokers[eventName] = createInvoker(nextValue))\n      el.addEventListener(event, invoker)\n    } else {\n      invokers[eventName] = undefined\n    }\n  }\n}\n", "export function pathcStyle(el, prevValue, nextValue) {\n  // \u6837\u5F0F\u6BD4\u8F83\n  for (let key in nextValue) {\n    el.style[key] = nextValue[key]\n  }\n\n  if (prevValue) {\n    for (let key in prevValue) {\n      if (nextValue[key] === null) {\n        el.style[key] = null\n      }\n    }\n  }\n}\n", "import { pathcAttr } from './modules/attr'\nimport { pathcClass } from './modules/class'\nimport { pathcEvents } from './modules/events'\nimport { pathcStyle } from './modules/style'\n\nexport function patchProp(el, key, prevValue, nextValue) {\n  // \u7C7B\u540D el.className\n  if (key === 'class') {\n    pathcClass(el, nextValue)\n  } else if (key === 'style') {\n    pathcStyle(el, prevValue, nextValue)\n  } else if (/^on[^a-z]/.test(key)) {\n    pathcEvents(el, key, nextValue)\n  } else {\n    pathcAttr(el, key, nextValue)\n  }\n}\n"],
  "mappings": "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",
  "names": ["renderOptions", "render", "type"]
}
